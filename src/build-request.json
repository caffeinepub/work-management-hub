{
  "kind": "build_request",
  "title": "Fix infinite loading bug and upgrade to searchable dropdowns",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix infinite loading spinner bug in UserManagementPage component (/user-management route) by wrapping all backend data fetch calls in try-catch blocks, ensuring isLoading state is set to false in finally blocks regardless of success or failure, and displaying error messages via toast notifications when data fetching fails",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "Perbaiki Bug Spinner di halaman `/user-management` (Kelola Pengguna): Saat ini ketika pindah ke halaman Kelola Pengguna, layarnya stuck di loading spinner terus-menerus"
        ]
      },
      "acceptanceCriteria": [
        "Loading spinner stops after data fetch completes or fails",
        "Error messages are displayed to user when backend calls fail",
        "Page renders properly without white screen or infinite loading states",
        "All async operations use try-catch-finally pattern with proper loading state management"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Convert the 'Pilih Client' dropdown in ActivateServiceModal component from standard select to a searchable/autocomplete combobox that allows superadmin to type and filter users by name, while maintaining the user ID (Principal) as the submitted value and displaying the user's name as the visible label",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "Upgrade Dropdown di Form \"Aktivasi Layanan Baru\": Komponen dropdown \"Pilih Client\" dan \"Pilih Asistenmu\" saat ini menggunakan dropdown standar yang tidak scalable jika datanya ratusan"
        ]
      },
      "acceptanceCriteria": [
        "Dropdown allows typing to search/filter users by name",
        "Selected value submitted to backend is the user ID (Principal), not the name string",
        "Dropdown displays user names as visible options",
        "Component uses existing fetched user data without requiring new backend calls",
        "Search functionality is case-insensitive and filters as user types"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Convert the 'Pilih Asistenmu' dropdown in ActivateServiceModal component from standard select to a searchable/autocomplete combobox that allows superadmin to type and filter users by name, while maintaining the user ID (Principal) as the submitted value and displaying the user's name as the visible label",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "Tolong ubah kedua komponen tersebut menjadi \"Searchable Dropdown\" (Autocomplete / Combobox)"
        ]
      },
      "acceptanceCriteria": [
        "Dropdown allows typing to search/filter users by name",
        "Selected value submitted to backend is the user ID (Principal), not the name string",
        "Dropdown displays user names as visible options",
        "Component uses existing fetched user data without requiring new backend calls",
        "Search functionality is case-insensitive and filters as user types"
      ]
    }
  ],
  "constraints": [
    "Do not modify or create new backend functions in main.mo",
    "Use only existing backend functions that are already implemented",
    "All changes must be frontend-only (UI/UX improvements)",
    "Maintain existing data structures and API contracts with backend"
  ],
  "nonGoals": [
    "Creating new backend query functions for user data",
    "Modifying backend user management logic",
    "Changing data fetching strategies or API endpoints",
    "Adding new backend methods for filtering or searching users"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}